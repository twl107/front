<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>t01.html</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
  'use strict';

// HTML ë¬¸ì„œê°€ ëª¨ë‘ ë¡œë”©ë˜ë©´ ì‹¤í–‰
$(function() {
  let intervalId = null; // ìŠ¬ë¡¯ íšŒì „ íƒ€ì´ë¨¸ ID

  // í˜ì´ì§€ ë¡œë”© ì‹œ 'ë©ˆì¶¤' ë²„íŠ¼ì€ ë¹„í™œì„±í™”
  $('#stop').prop('disabled', true);

  // 'ëŒë¦¬ê¸°' ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
  $('#start').on('click', function() {
    // 1. ë°°íŒ… ê¸ˆì•¡ í™•ì¸
    const betMoney = Number($('#betMoney').val());
    if (betMoney <= 0) {
      alert("ë°°íŒ… ê¸ˆì•¡ì„ 1 ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      $('#betMoney').focus();
      return;
    }

    // 2. ì´ì „ ê²°ê³¼ ë©”ì‹œì§€ ì‚­ì œ ë° ë²„íŠ¼ ìƒíƒœ ë³€ê²½
    $('#result').html('');
    $('#start').prop('disabled', true);
    $('#stop').prop('disabled', false);

    // 3. 0.1ì´ˆë§ˆë‹¤ 3ê°œ ìŠ¬ë¡¯ì˜ ì´ë¯¸ì§€ë¥¼ ë¬´ì‘ìœ„ë¡œ ë³€ê²½
    intervalId = setInterval(() => {
      $('.slot-img').each(function() {
        const randomNum = Math.floor(Math.random() * 6) + 1; // 1~6 ì‚¬ì´ì˜ ë¬´ì‘ìœ„ ìˆ«ì
        $(this).attr('src', `../images/${randomNum}.gif`);
      });
    }, 100);
  });

  // 'ë©ˆì¶¤' ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
  $('#stop').on('click', function() {
    // 1. ìŠ¬ë¡¯ íšŒì „ íƒ€ì´ë¨¸ ì¤‘ì§€
    clearInterval(intervalId);

    // 2. ë²„íŠ¼ ìƒíƒœ ë³€ê²½
    $('#stop').prop('disabled', true);
    $('#start').prop('disabled', false); // ë‹¤ì‹œ ëŒë¦´ ìˆ˜ ìˆë„ë¡ 'ì‹œì‘' ë²„íŠ¼ í™œì„±í™”

    // 3. ê²°ê³¼ íŒì • í•¨ìˆ˜ í˜¸ì¶œ
    checkResult();
  });

  // ê²°ê³¼ íŒì • í•¨ìˆ˜
  function checkResult() {
    const finalResults = []; // ìµœì¢… 3ê°œ ìŠ¬ë¡¯ì˜ ìˆ«ì ì €ì¥ ë°°ì—´

    // ê° ìŠ¬ë¡¯ì˜ ìµœì¢… ì´ë¯¸ì§€ ìˆ«ì ì¶”ì¶œ
    $('.slot-img').each(function() {
      const src = $(this).attr('src');
      const num = parseInt(src.match(/(\d+)\.gif/)[1]);
      finalResults.push(num);
    });

    const betMoney = Number($('#betMoney').val());
    let message = '';

    if (finalResults[0] === finalResults[1] && finalResults[1] === finalResults[2]) {
      const prize = betMoney * 10;
      message = `ğŸ‰ğŸ‰ JACKPOT!! ğŸ‰ğŸ‰<br>ì¶•í•˜í•©ë‹ˆë‹¤! ${prize.toLocaleString()}ì›ì„ íšë“í•˜ì…¨ìŠµë‹ˆë‹¤!`;
    }
    else if (finalResults[0] === finalResults[1] || finalResults[0] === finalResults[2] || finalResults[1] === finalResults[2]) {
      const prize = betMoney * 2;
      message = `ğŸ‘ 2ê°œ ì¼ì¹˜! ğŸ‘<br>${prize.toLocaleString()}ì›ì„ íšë“í•˜ì…¨ìŠµë‹ˆë‹¤.`;
    }
    else {
      message = `ğŸ˜­ ì•„ì‰½ë„¤ìš”... ë‹¤ìŒ ê¸°íšŒì—! ğŸ˜­`;
    }
    
    $('#result').html(`<hr>${message}`);
  }
});

  </script>
  <style>
    /* ê°„ë‹¨í•œ ìŠ¤íƒ€ì¼ë§ */
    body {
      padding: 2rem;
      background-color: #f8f9fa;
    }
    .slot-machine {
      background-color: #fff;
      border: 5px solid #333;
      border-radius: 15px;
      padding: 1.5rem;
      margin-top: 1rem;
      margin-bottom: 1.5rem;
    }
    .slot-img {
      width: 100%;
      height: 150px; /* ì´ë¯¸ì§€ ë†’ì´ ê³ ì • */
      object-fit: contain; /* ì´ë¯¸ì§€ê°€ ì˜ë¦¬ì§€ ì•Šê²Œ ì„¤ì • */
      border: 3px solid #dee2e6;
      border-radius: 10px;
    }
    .palette-img {
      width: 50px;
      opacity: 0.7;
    }
    .controls {
      margin-top: 1rem;
    }
  </style>
  </head>
<body>
  <div class="container text-center">
    <h3>ğŸ° ìŠ¬ë¡¯ë¨¸ì‹  ê²Œì„ ğŸ°</h3>
    <p>3ê°œ ìŠ¬ë¡¯ì˜ ê·¸ë¦¼ì„ ë§ì¶°ë³´ì„¸ìš”!</p>

    <div class="mt-4">
      <h6>(ì‚¬ìš©ë˜ëŠ” ì´ë¯¸ì§€)</h6>
      <div class="row justify-content-center g-2">
        <div class="col-auto"><img src="../images/1.gif" class="palette-img"></div>
        <div class="col-auto"><img src="../images/2.gif" class="palette-img"></div>
        <div class="col-auto"><img src="../images/3.gif" class="palette-img"></div>
        <div class="col-auto"><img src="../images/4.gif" class="palette-img"></div>
        <div class="col-auto"><img src="../images/5.gif" class="palette-img"></div>
        <div class="col-auto"><img src="../images/6.gif" class="palette-img"></div>
      </div>
    </div>

    <div class="slot-machine row">
      <div class="col-4"><img src="../images/1.gif" class="slot-img"></div>
      <div class="col-4"><img src="../images/2.gif" class="slot-img"></div>
      <div class="col-4"><img src="../images/3.gif" class="slot-img"></div>
    </div>

    <div class="input-group mb-3">
      <span class="input-group-text">ğŸ’°</span>
      <input type="number" id="betMoney" class="form-control" placeholder="ë°°íŒ… ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”">
    </div>

    <div class="controls d-grid gap-2 d-md-flex justify-content-md-center">
      <button type="button" id="start" class="btn btn-success btn-lg">ëŒë¦¬ê¸°</button>
      <button type="button" id="stop" class="btn btn-danger btn-lg">ë©ˆì¶¤</button>
      <button type="button" onclick="location.reload()" class="btn btn-primary btn-lg">ë‹¤ì‹œí•˜ê¸°</button>
    </div>
    
    <div id="result" class="mt-4 fs-4 fw-bold"></div>
  </div>
</body>
</html>