<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸í„°ë™í‹°ë¸Œ ë‹¬ë ¥ ì„¤ëª…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .calendar-table td {
            transition: all 0.2s ease-in-out;
        }
        .today {
            background-color: #fbbf24 !important; /* amber-400 */
            color: #1f2937; /* gray-800 */
            font-weight: bold;
            border-radius: 50%;
        }
        .empty-cell {
            background-color: #f3f4f6; /* gray-100 */
        }
        .highlight-code {
            background-color: #fefce8; /* yellow-50 */
            border-left: 4px solid #facc15; /* yellow-400 */
            padding: 1rem;
            border-radius: 0.25rem;
            font-family: monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body class="bg-gray-50 flex flex-col items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-2xl mx-auto bg-white p-6 rounded-xl shadow-lg">
        <!-- í—¤ë”: ì›”/ë…„ë„ ë° ì´ì „/ë‹¤ìŒ ë²„íŠ¼ -->
        <div class="flex justify-between items-center mb-4">
            <button id="prevMonth" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg transition-colors">&lt; ì´ì „</button>
            <h2 id="currentMonthYear" class="text-2xl font-bold text-gray-700"></h2>
            <button id="nextMonth" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg transition-colors">ë‹¤ìŒ &gt;</button>
        </div>

        <!-- ë‹¬ë ¥ í…Œì´ë¸” -->
        <table class="w-full calendar-table">
            <thead>
                <tr class="text-center font-medium text-gray-600">
                    <th class="py-2 text-red-500">ì¼</th>
                    <th class="py-2">ì›”</th>
                    <th class="py-2">í™”</th>
                    <th class="py-2">ìˆ˜</th>
                    <th class="py-2">ëª©</th>
                    <th class="py-2">ê¸ˆ</th>
                    <th class="py-2 text-blue-500">í† </th>
                </tr>
            </thead>
            <tbody id="calendarBody" class="text-center">
                <!-- ë‚ ì§œê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤. -->
            </tbody>
        </table>
        <div class="text-center mt-4">
             <button id="goToday" class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors">ì˜¤ëŠ˜ë¡œ</button>
        </div>
    </div>

    <!-- ì½”ë“œ ì„¤ëª… ì„¹ì…˜ -->
    <div class="w-full max-w-2xl mx-auto bg-white p-6 rounded-xl shadow-lg mt-6">
        <h3 class="text-xl font-bold mb-4 text-gray-800">ì½”ë“œì™€ ë‹¬ë ¥ì˜ ì—°ê²°ê³ ë¦¬ ğŸ”—</h3>
        
        <div class="mb-6">
            <h4 class="font-semibold text-lg mb-2">1. ë‹¬ì˜ ì‹œì‘ ìš”ì¼ ì°¾ê¸°</h4>
            <p class="mb-2 text-gray-600">ì´ ì½”ë“œëŠ” <strong id="displayMonth1" class="text-blue-600"></strong>ì˜ 1ì¼ì´ ë¬´ìŠ¨ ìš”ì¼ì¸ì§€ ê³„ì‚°í•©ë‹ˆë‹¤. ê²°ê³¼ëŠ” ìˆ«ìë¡œ ë‚˜ì˜¤ë©° 0ì€ ì¼ìš”ì¼, 6ì€ í† ìš”ì¼ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
            <div class="highlight-code">let firstWeek = new Date(year, month-1, 1).getDay();</div>
            <p class="mt-2 text-gray-700">ğŸ‘‰ í˜„ì¬ ë‹¬ë ¥ì—ì„œ <strong id="displayFirstWeek" class="text-red-600"></strong> ì…ë‹ˆë‹¤.</p>
        </div>
        
        <div class="mb-6">
            <h4 class="font-semibold text-lg mb-2">2. ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ ì§œ ì°¾ê¸°</h4>
            <p class="mb-2 text-gray-600">ì´ ì½”ë“œëŠ” <strong id="displayMonth2" class="text-blue-600"></strong>ì˜ ë§ˆì§€ë§‰ ë‚ ì´ ë©°ì¹ ì¸ì§€ ê³„ì‚°í•©ë‹ˆë‹¤. (ìœ¤ë…„ ìë™ ê³„ì‚°)</p>
            <div class="highlight-code">let lastDate = new Date(year, month, 0).getDate();</div>
            <p class="mt-2 text-gray-700">ğŸ‘‰ í˜„ì¬ ë‹¬ë ¥ì—ì„œ <strong id="displayLastDate" class="text-red-600"></strong> ì…ë‹ˆë‹¤.</p>
        </div>

        <div>
            <h4 class="font-semibold text-lg mb-2">3. ì²« ì£¼ ë¹ˆ ì¹¸ ì±„ìš°ê¸° (í•µì‹¬!)</h4>
            <p class="mb-2 text-gray-600">ì´ ì½”ë“œê°€ ë°”ë¡œ 1ì¼ì´ ì‹œì‘í•˜ê¸° ì „ì˜ íšŒìƒ‰ ë¹ˆ ì¹¸ë“¤ì„ ë§Œë“œëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. 1ì¼ì˜ ìš”ì¼(<strong id="displayFirstWeek2" class="text-red-600"></strong>)ë§Œí¼ ë°˜ë³µí•˜ë©° ë¹ˆ ì¹¸(`<td>&nbsp;</td>`)ì„ ì±„ì›Œ ë„£ìŠµë‹ˆë‹¤.</p>
            <div class="highlight-code">
for(let j=1; j<=firstWeek; j++) {
  str += '&lt;td class="empty-cell"&gt;&nbsp;&lt;/td&gt;';
}
            </div>
            <p class="mt-2 text-gray-700">ğŸ‘‰ í˜„ì¬ ë‹¬ë ¥ì˜ ì²« ì£¼ë¥¼ ë³´ë©´, 1ì¼ ì•ì— <strong id="emptyCellCount" class="text-red-600"></strong>ê°œì˜ íšŒìƒ‰ ì¹¸ì´ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 'ì´ì „', 'ë‹¤ìŒ' ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¤ë¥¸ ë‹¬ì€ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”!</p>
        </div>

    </div>


    <script>
        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const currentMonthYearEl = document.getElementById('currentMonthYear');
        const calendarBodyEl = document.getElementById('calendarBody');
        const prevMonthBtn = document.getElementById('prevMonth');
        const nextMonthBtn = document.getElementById('nextMonth');
        const goTodayBtn = document.getElementById('goToday');

        // ì„¤ëª… ì„¹ì…˜ ìš”ì†Œ
        const displayMonth1 = document.getElementById('displayMonth1');
        const displayMonth2 = document.getElementById('displayMonth2');
        const displayFirstWeek = document.getElementById('displayFirstWeek');
        const displayLastDate = document.getElementById('displayLastDate');
        const displayFirstWeek2 = document.getElementById('displayFirstWeek2');
        const emptyCellCount = document.getElementById('emptyCellCount');


        // í˜„ì¬ ë‚ ì§œ ì •ë³´ ì €ì¥
        let currentDate = new Date();
        let currentYear = currentDate.getFullYear();
        let currentMonth = currentDate.getMonth() + 1; // ì›”ì€ 0ë¶€í„° ì‹œì‘í•˜ë¯€ë¡œ +1

        const weekDays = ['ì¼ìš”ì¼', 'ì›”ìš”ì¼', 'í™”ìš”ì¼', 'ìˆ˜ìš”ì¼', 'ëª©ìš”ì¼', 'ê¸ˆìš”ì¼', 'í† ìš”ì¼'];

        // ë‹¬ë ¥ì„ ë Œë”ë§í•˜ëŠ” í•¨ìˆ˜
        function renderCalendar(year, month) {
            // --- 1. ë‹¬ì˜ ì‹œì‘ ìš”ì¼ ì°¾ê¸° ---
            // month-1: JavaScriptì˜ ì›”ì€ 0ë¶€í„° ì‹œì‘í•˜ê¸° ë•Œë¬¸
            const firstWeek = new Date(year, month - 1, 1).getDay(); // 0:ì¼, 1:ì›”, ..., 6:í† 

            // --- 2. ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ ì§œ ì°¾ê¸° ---
            // month, 0: ë‹¤ìŒ ë‹¬ì˜ 0ë²ˆì§¸ ë‚  = ì´ë²ˆ ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ 
            const lastDate = new Date(year, month, 0).getDate();

            // ì˜¤ëŠ˜ ë‚ ì§œ ì •ë³´
            const today = new Date();
            const todayYear = today.getFullYear();
            const todayMonth = today.getMonth() + 1;
            const todayDate = today.getDate();

            // í—¤ë” ì—…ë°ì´íŠ¸
            currentMonthYearEl.textContent = `${year}ë…„ ${month}ì›”`;
            
            // ë‹¬ë ¥ ë‚´ìš© ì´ˆê¸°í™”
            calendarBodyEl.innerHTML = '';

            let date = 1; // ì‹œì‘ ë‚ ì§œ
            let calendarHTML = '<tr>'; // ë‹¬ë ¥ HTML ë¬¸ìì—´

            // --- 3. ì²« ì£¼ ë¹ˆ ì¹¸ ì±„ìš°ê¸° ---
            // firstWeek ê°’ë§Œí¼ ë°˜ë³µí•˜ì—¬ ë¹ˆ ì¹¸(<td>)ì„ ìƒì„±í•©ë‹ˆë‹¤.
            // ì˜ˆë¥¼ ë“¤ì–´ 1ì¼ì´ ê¸ˆìš”ì¼(firstWeek=5)ì´ë©´, 5ê°œì˜ ë¹ˆ ì¹¸ì´ ì•ì— ì±„ì›Œì§‘ë‹ˆë‹¤.
            for (let i = 0; i < firstWeek; i++) {
                calendarHTML += '<td class="py-3 h-16 empty-cell">&nbsp;</td>';
            }

            // ë‚ ì§œ ì±„ìš°ê¸°
            while (date <= lastDate) {
                const dayIndex = new Date(year, month - 1, date).getDay();
                
                // ì˜¤ëŠ˜ ë‚ ì§œì¸ì§€ í™•ì¸
                let todayClass = '';
                if (year === todayYear && month === todayMonth && date === todayDate) {
                    todayClass = ' today';
                }

                calendarHTML += `<td class="py-3 h-16 relative${todayClass}">${date}</td>`;
                
                // í† ìš”ì¼ì´ë©´ ì¤„ë°”ê¿ˆ(</tr><tr>)
                if (dayIndex === 6 && date < lastDate) {
                    calendarHTML += '</tr><tr>';
                }
                date++;
            }

            // ë§ˆì§€ë§‰ ì£¼ ë‚˜ë¨¸ì§€ ë¹ˆ ì¹¸ ì±„ìš°ê¸°
            const lastDayIndex = new Date(year, month - 1, lastDate).getDay();
            if (lastDayIndex !== 6) {
                for (let i = lastDayIndex; i < 6; i++) {
                    calendarHTML += '<td class="py-3 h-16 empty-cell">&nbsp;</td>';
                }
            }
            
            calendarHTML += '</tr>';
            calendarBodyEl.innerHTML = calendarHTML;

            // --- ì„¤ëª… ì„¹ì…˜ ì—…ë°ì´íŠ¸ ---
            displayMonth1.textContent = `${year}ë…„ ${month}ì›”`;
            displayMonth2.textContent = `${year}ë…„ ${month}ì›”`;
            displayFirstWeek.textContent = `${firstWeek} (${weekDays[firstWeek]})`;
            displayLastDate.textContent = `${lastDate}ì¼`;
            displayFirstWeek2.textContent = `${firstWeek} (${weekDays[firstWeek]})`;
            emptyCellCount.textContent = `${firstWeek}`;
        }

        // ì´ì „ ë‹¬ ë²„íŠ¼ ì´ë²¤íŠ¸
        prevMonthBtn.addEventListener('click', () => {
            currentMonth--;
            if (currentMonth < 1) {
                currentMonth = 12;
                currentYear--;
            }
            renderCalendar(currentYear, currentMonth);
        });

        // ë‹¤ìŒ ë‹¬ ë²„íŠ¼ ì´ë²¤íŠ¸
        nextMonthBtn.addEventListener('click', () => {
            currentMonth++;
            if (currentMonth > 12) {
                currentMonth = 1;
                currentYear++;
            }
            renderCalendar(currentYear, currentMonth);
        });
        
        // ì˜¤ëŠ˜ë¡œ ë²„íŠ¼ ì´ë²¤íŠ¸
        goTodayBtn.addEventListener('click', () => {
            const today = new Date();
            currentYear = today.getFullYear();
            currentMonth = today.getMonth() + 1;
            renderCalendar(currentYear, currentMonth);
        });

        // ì´ˆê¸° ë‹¬ë ¥ ë Œë”ë§
        renderCalendar(currentYear, currentMonth);
    </script>
</body>
</html>